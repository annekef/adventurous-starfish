<!DOCTYPE html>

<html>
<head>
  <title>comments.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="auth.html">
                auth.js
              </a>
            
              
              <a class="source" href="comments.html">
                comments.js
              </a>
            
              
              <a class="source" href="glint.html">
                glint.js
              </a>
            
              
              <a class="source" href="ideas.html">
                ideas.js
              </a>
            
              
              <a class="source" href="votes.html">
                votes.js
              </a>
            
              
              <a class="source" href="services.html">
                services.js
              </a>
            
              
              <a class="source" href="commentController.html">
                commentController.js
              </a>
            
              
              <a class="source" href="commentModel.html">
                commentModel.js
              </a>
            
              
              <a class="source" href="commentRoutes.html">
                commentRoutes.js
              </a>
            
              
              <a class="source" href="helpers.html">
                helpers.js
              </a>
            
              
              <a class="source" href="middleware.html">
                middleware.js
              </a>
            
              
              <a class="source" href="ideaController.html">
                ideaController.js
              </a>
            
              
              <a class="source" href="ideaModel.html">
                ideaModel.js
              </a>
            
              
              <a class="source" href="ideaRoutes.html">
                ideaRoutes.js
              </a>
            
              
              <a class="source" href="serverSetup.html">
                serverSetup.js
              </a>
            
              
              <a class="source" href="serverSpec.html">
                serverSpec.js
              </a>
            
              
              <a class="source" href="usersController.html">
                usersController.js
              </a>
            
              
              <a class="source" href="usersModel.html">
                usersModel.js
              </a>
            
              
              <a class="source" href="usersRoutes.html">
                usersRoutes.js
              </a>
            
              
              <a class="source" href="voteController.html">
                voteController.js
              </a>
            
              
              <a class="source" href="voteRoutes.html">
                voteRoutes.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>comments.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h2 id="comments-controller">Comments controller</h2>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>This feature is still in development, but a good deal of work for it has already been done.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
angular.module(<span class="hljs-string">'glint.comments'</span>, [])

.controller(<span class="hljs-string">'CommentsCtrl'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Comments)</span></span>{
  <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
  self.comment = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Submit eventual form inputs to the db and display something back to the user on success.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  self.submitComment = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(idea_id)</span></span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>The comment object needs to be populated with form inputs here.
User input will need to be escaped, and stringified. Refer to the comment schema for the fields needed, but likely <code>self.comment.text</code>, <code>self.comment.idea_id</code>, and <code>self.comment.created_by</code> will be necessary.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    comment = <span class="hljs-built_in">JSON</span>.stringify(self.comment);

    Comments.createComment(comment)
      .then(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(response)</span></span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Display the supplied comment back to the user who submitted it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      })
      .catch(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(error)</span></span>{
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'comment error'</span>, error);
      });
  };</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Display all comments for a specific idea.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  self.displayComments = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(idea_id)</span></span>{
    Comments.getComments(idea_id)
      .then(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(response)</span></span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Display this ideaâ€™s comments.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      })
      .catch(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(error)</span></span>{
        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'displayComments error'</span>, error);
      });
  };

});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
